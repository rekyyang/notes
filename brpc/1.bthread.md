# bthread
bthread是一个 M:N的用户态线程库（线程池），M个用户态线程（bthread）映射到N个工作线程（pthread）上

## bthread 数据结构

```
/**
 * 全局单例的数据结构 TaskControl，用来管理多个task_group. 每个工作线程对应一个task_group
 * 声明位于bthread.cpp, 初始化在且仅在 get_or_new_task_control() 中，先原子读指针，
 * 如果读到空指针，则加锁 new一个对象出来，并根据concurrency init 对象, 创建concurrency个pthread，
 * 跑工作线程。 同时创建一个timer定时线程，用于时间片轮转
 */
TaskControl* g_task_control = NULL;



```