# 简介

## tcp

可靠的，面向连接的
传输效率低

### 数据报文格式

以太网标头 ip标头 tcp标头 应用层数据包

tcp标头：
序列号，确认号，窗口大小，首部长度，类型bitwise......
窗口大小，指明了数据量

### 三次握手，四次挥手

SYN攻击
    两次握手，三次握手之间的半连接状态，

两次握手行不行?
    客户端 到 服务端 的网络是可达的，但却无法保证从 服务端 到 客户端 的网络是可达的。

四次挥手
    两对，单方面确定没有信息发送
    前两次说明client后续没有数据发送了
    后两次说明server后续没有数据发送了

    time_wait等待2MSL时间才CLOSE

滑动窗口，拥塞控制，超时重传，报文校验
滑动窗口：流量控制
拥塞控制：慢开始，快重传，快恢复
没到达拥塞窗口，指数增加拥塞窗口。到达拥塞阈值，线性增加发送窗口。超时，拥塞阈值减半，拥塞窗口从零开始

快重传，接收方立即确认。丢失后发送方连续三个重复确认。收到三个连续的重复确认后立刻重传
        发送方快重传后，拥塞阈值减半，拥塞窗口减半

## udp

不可靠，无连接
传输效率高

支持广播多播，报文交给ip切段

## http

http无状态
session cookies
cookies客户端，session服务端。服务端session来用过cookies id找session

http1.1 长连接，支持pipeline，服务端无法主动push
http2.0 多路复用
